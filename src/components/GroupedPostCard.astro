---
import PostCard from './PostCard.astro';
import type { CollectionEntry } from 'astro:content';

interface Props {
  translations: CollectionEntry<'blog'>[];
}

const { translations }: Props = Astro.props;
const sortedTranslations = translations.sort((a, b) => a.data.language[0].localeCompare(b.data.language[0]));
const main = sortedTranslations[0];
---
<article class="post-card">
  <div class="languages z-10">   
     {sortedTranslations.map((post) => (
      <a href={`/blog/${post.id}/`} class="language-badge">
        {post.data.language[0] === 'en' ? 'ðŸ‡ºðŸ‡¸ Read in English' : 'ðŸ‡µðŸ‡· Leer en EspaÃ±ol'}
      </a>
    ))}
  </div>
  <div style="z-index: 0;"> <PostCard post={main} />
</div>
</article>

<style>
  .languages { 
    display: flex;
    width: fit-content
    gap: 0.5em;
    margin-bottom: -2px;
    padding-bottom:0;
    margin-left: 20px
  }

  .languages a {
    color: white;
    padding: 0.5em 1em;
    border-radius: 0.5em;
    background: black;
  }
  
  
</style>